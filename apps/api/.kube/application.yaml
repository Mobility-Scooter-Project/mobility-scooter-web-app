apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: mswa-api
  namespace: mswa-api
spec:
  project: "default"
  source:
    repoURL: https://github.com/Mobility-Scooter-Project/mobility-scooter-web-app.git
    targetRevision: 12-argocd-setup
    path: 'apps/api/.kube'
    kustomize:
      namespace: mswa-api
      labels:
        app.kubernetes.io/instance: mswa-api
        app.kubernetes.io/part-of: mobility-scooter-web-app
        app.kubernetes.io/managed-by: argocd
      components:
        - volume/prod/
        - timescaledb/prod/
        - redis/prod/
  destination:
    server: https://kubernetes.default.svc
    namespace: mswa-api

